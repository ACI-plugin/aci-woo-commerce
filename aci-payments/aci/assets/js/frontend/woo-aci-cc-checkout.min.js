!function(o,e){function _(){e.Gateway.call(this),this.bind_updated_checkout_event(),"0"!==woo_aci_cc_obj.admin_checkout_order_id&&this.bind_payment_method_selected_event()}_.prototype=o.extend({},e.Gateway.prototype),_.prototype.bind_payment_method_selected_event_handler=function(o){if(this.show_place_order_button(),this.selected_gateway()===woo_aci_cc_obj.id){const e={action:woo_aci_cc_obj.action,nonce:woo_aci_cc_obj.nonce,id:woo_aci_cc_obj.id,admin_checkout_order_id:woo_aci_cc_obj.admin_checkout_order_id};this.ajax_call(woo_aci_cc_obj,e),null!=o&&o.stopImmediatePropagation()}},_.prototype.bind_success_ajax_handler=function(e){try{if((e=JSON.parse(e)).id){this.hide_place_order_button(),this.unload_widget(),this.checkout_id=e.id,o(`.payment_box.payment_method_${woo_aci_cc_obj.id}`).html(""),this.load_aci_script(`.payment_box.payment_method_${woo_aci_cc_obj.id}`,woo_aci_cc_obj.end_point,e.id,e.integrity),this.load_aci_from(`.payment_box.payment_method_${woo_aci_cc_obj.id}`,woo_aci_cc_obj.shopper_result_url,woo_aci_cc_obj.supported_card_brands),window.wpwlOptions=window.wpwlOptions||{},window.wpwlOptions.registrations=Object.assign({},window.wpwlOptions.registrations,{requireCvv:!0});const _=window.wpwlOptions.onReady||function(){};window.wpwlOptions.onReady=function(e){if(_.call(this,e),"1"===woo_aci_cc_obj.show_saved_card_option){const e='<div id="saved_cards_option"><div class="customLabel">'+wp.i18n.__("Save card","woocommerce")+'</div><div class="customInput"><input type="checkbox" name="createRegistration" value="true" /></div></div>';o("form.wpwl-form-card").find("#saved_cards_option").remove(),o("form.wpwl-form-card").find(".wpwl-button").before(e)}},this.init_wpwl_events(`.payment_box.payment_method_${woo_aci_cc_obj.id}`)}else this.error_handler(wp.i18n.__("We are currently unable to process your payment. Please try again","woocommerce"))}catch(o){this.error_handler(wp.i18n.__("We are currently unable to process your payment. Please try again","woocommerce"))}},_.prototype.on_click_pay_now_event_handler=function(e){if(this.selected_gateway()===woo_aci_cc_obj.id){const _={action:woo_aci_cc_obj.action,nonce:woo_aci_cc_obj.nonce,id:"woo_aci_draft",checkout_id:this.checkout_id,admin_checkout_order_id:woo_aci_cc_obj.admin_checkout_order_id};return this.create_draft_order_or_update_order(woo_aci_cc_obj,_),"success"===woo_aci_cc_obj.response.result?!0:(o(e.currentTarget).find("button.wpwl-button:submit").prop("disabled")&&o(e.currentTarget).find("button.wpwl-button:submit").removeAttr("disabled"),this.show_errors(woo_aci_cc_obj.response),!1)}},_.prototype.error_handler=function(e){o(`.payment_box.payment_method_${woo_aci_cc_obj.id}`).html(""),o(`.payment_box.payment_method_${woo_aci_cc_obj.id}`).prepend('<div class="woocommerce-error" id="'+woo_aci_cc_obj.id+'_error">'+e+"</div>")},o(document).ready((function(){new _}))}(jQuery,window.aci);