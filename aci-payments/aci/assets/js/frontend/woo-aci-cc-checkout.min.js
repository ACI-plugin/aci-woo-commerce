!function(o,_){function t(){_.Gateway.call(this),this.bind_updated_checkout_event(),"0"!==woo_aci_cc_obj.admin_checkout_order_id&&this.bind_payment_method_selected_event()}t.prototype=o.extend({},_.Gateway.prototype),t.prototype.bind_payment_method_selected_event_handler=function(o){if(this.show_place_order_button(),this.selected_gateway()===woo_aci_cc_obj.id){const _={action:woo_aci_cc_obj.action,nonce:woo_aci_cc_obj.nonce,id:woo_aci_cc_obj.id,admin_checkout_order_id:woo_aci_cc_obj.admin_checkout_order_id};this.ajax_call(woo_aci_cc_obj,_),null!=o&&o.stopImmediatePropagation()}},t.prototype.bind_success_ajax_handler=function(_){try{if((_=JSON.parse(_)).id){if(this.hide_place_order_button(),this.unload_widget(),this.checkout_id=_.id,o(`.payment_box.payment_method_${woo_aci_cc_obj.id}`).html(""),this.load_aci_script(`.payment_box.payment_method_${woo_aci_cc_obj.id}`,woo_aci_cc_obj.end_point,_.id,_.integrity),this.load_aci_from(`.payment_box.payment_method_${woo_aci_cc_obj.id}`,woo_aci_cc_obj.shopper_result_url,woo_aci_cc_obj.supported_card_brands),"object"!=typeof window.wpwlOptions&&(window.wpwlOptions={}),woo_aci_cc_obj.custom_js_code){new Function("window",`\n\t\t\t\t\t\t${woo_aci_cc_obj.custom_js_code}\n\t\t\t\t\t\t`)(window)}window.wpwlOptions.registrations=Object.assign({},window.wpwlOptions.registrations,{requireCvv:!0});const t=window.wpwlOptions.onReady||function(){};window.wpwlOptions.onReady=function(_){if(t.call(this,_),"1"===woo_aci_cc_obj.show_saved_card_option){const _='<div id="saved_cards_option"><div class="customLabel">'+wp.i18n.__("Save card","woocommerce")+'</div><div class="customInput"><input type="checkbox" name="createRegistration" value="true" /></div></div>';o("form.wpwl-form-card").find("#saved_cards_option").remove(),o("form.wpwl-form-card").find(".wpwl-button").before(_)}},this.init_wpwl_events(`.payment_box.payment_method_${woo_aci_cc_obj.id}`)}else this.error_handler(wp.i18n.__("We are currently unable to process your payment. Please try again","woocommerce"))}catch(o){this.error_handler(wp.i18n.__("We are currently unable to process your payment. Please try again","woocommerce"))}},t.prototype.on_click_pay_now_event_handler=function(_){if(this.selected_gateway()===woo_aci_cc_obj.id){const t={action:woo_aci_cc_obj.action,nonce:woo_aci_cc_obj.nonce,id:"woo_aci_draft",checkout_id:this.checkout_id,admin_checkout_order_id:woo_aci_cc_obj.admin_checkout_order_id};return this.create_draft_order_or_update_order(woo_aci_cc_obj,t),"success"===woo_aci_cc_obj.response.result?!0:(o(_.currentTarget).find("button.wpwl-button:submit").prop("disabled")&&o(_.currentTarget).find("button.wpwl-button:submit").removeAttr("disabled"),this.show_errors(woo_aci_cc_obj.response),!1)}},t.prototype.error_handler=function(_){o(`.payment_box.payment_method_${woo_aci_cc_obj.id}`).html(""),o(`.payment_box.payment_method_${woo_aci_cc_obj.id}`).prepend('<div class="woocommerce-error" id="'+woo_aci_cc_obj.id+'_error">'+_+"</div>")},o(document).ready((function(){new t}))}(jQuery,window.aci);