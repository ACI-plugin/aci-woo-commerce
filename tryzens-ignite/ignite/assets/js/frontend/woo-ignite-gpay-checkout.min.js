!function(e,t){function o(){t.Gateway.call(this),this.bind_updated_checkout_event(),"0"!==woo_ignite_gpay_obj.admin_checkout_order_id&&this.bind_payment_method_selected_event()}o.prototype=e.extend({},t.Gateway.prototype),o.prototype.hide_place_order_button=function(t){woo_ignite_gpay_obj.id===this.selected_gateway()&&e("#place_order").hide()},o.prototype.bind_payment_method_selected_event_handler=function(t){e("#place_order").show(),e("#"+woo_ignite_gpay_obj.id+"_widget").empty(),woo_ignite_gpay_obj.id===this.selected_gateway()&&(null!=t&&t.stopImmediatePropagation(),this.ajax_call(woo_ignite_gpay_obj))},o.prototype.bind_success_ajax_handler=function(t){try{if((t=JSON.parse(t)).transactionId){this.hide_place_order_button(),e("#"+woo_ignite_gpay_obj.id+"_transactionId").remove();let i="";i="0"!==woo_ignite_gpay_obj.admin_checkout_order_id?"#order_review":"form.checkout",e("<input>").attr({type:"hidden",id:woo_ignite_gpay_obj.id+"_transactionId",name:woo_ignite_gpay_obj.id+"_transactionId",value:t.transactionId}).appendTo(i);const _=this.ignite_obj_creation(t.transactionId),n=new window.IgnitePayment(_);n.setStyle({height:"470px",width:"75%"}),e("#"+woo_ignite_gpay_obj.id+"_widget").html(""),n.apm(woo_ignite_gpay_obj.id+"_widget","google-pay");const a=this.message_events();n.messageEventHandler(a),o.prototype.ignite_widget=n}else this.error_handler(wp.i18n.__("Initialize service not available","woocommerce"))}catch(e){this.error_handler(wp.i18n.__("Initialize service not available","woocommerce"))}},o.prototype.error_handler=function(t){e("#"+woo_ignite_gpay_obj.id+"_error").remove(),e("#"+woo_ignite_gpay_obj.id+"_widget").prepend('<div class="woocommerce-error" id="'+woo_ignite_gpay_obj.id+'_error">'+t+"</div>")},o.prototype.ignite_obj_creation=function(e){return{clientID:woo_ignite_gpay_obj.key,clientKey:woo_ignite_gpay_obj.publishable_key,tokenize:!1,transactionId:e}},o.prototype.message_events=function(){let t="";return t="0"!==woo_ignite_gpay_obj.admin_checkout_order_id?"#order_review":"form.checkout",{onSubmit:()=>{},onSuccess:async o=>{woo_ignite_gpay_obj.id===this.selected_gateway()&&e(t).submit()},onFailure:async()=>{woo_ignite_gpay_obj.id===this.selected_gateway()&&e(t).submit()}}},e(document).ready((function(){new o}))}(jQuery,window.ignite);